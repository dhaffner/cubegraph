(this["webpackJsonpgraphql-typescript-react"]=this["webpackJsonpgraphql-typescript-react"]||[]).push([[0],{108:function(e,t,n){e.exports=n(134)},113:function(e,t,n){},115:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var r=n(0),R=n.n(r),D=n(19),a=n.n(D),F=(n(113),n(23)),B=n(10),L=n(62),U=n(17),c=n(167),o=n(138),i=n(166),u=n(171),l=n(170),s=n(99),f=n(169),m=n(168),d=(n(65),n(28)),b=n(45),g=n(52),v=n(50),p=(n(115),n(9)),h=n(165),O=n(173),j=n(53),E=n(57),k="UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",y=Object(p.uniq)(k);function x(){var e=Object(B.a)(['\ndisplay: grid;\ngrid-gap: 1px;\ngrid-template-columns: repeat(3, 1fr);\nborder: 1px solid black;\nbackground-color: black;\n> div::before {\n    content: "";\n    padding-bottom: 100%;\n    display: block;\n  }\n']);return x=function(){return e},e}var w=Object(E.a)((function(e){var t=e.colors,n=e.className,r=function(e){return{U:e.palette.background.paper,D:e.palette.secondary.dark,F:e.palette.success.dark,B:e.palette.info.dark,L:e.palette.warning.dark,R:e.palette.error.dark}}(Object(j.a)());return R.a.createElement("div",{className:n},t.map((function(e,t){return R.a.createElement("div",{key:t,style:{backgroundColor:r[e]}})})))}))(x()),S=Object(h.a)((function(e){return Object(O.a)({root:{margin:0}})}));function N(e){for(var t=e.moves,n=e.addMove,r=e.onHover,D=e.nextMove,a=(S(),Object(j.a)()),F=[],B=0;B<t.length;B+=3)F.push(t.slice(B,B+3));var L=(t.length>0?t[0]:{}).source;return Object(p.isEmpty)(L)?R.a.createElement("span",null):(console.log("nextmove",D),R.a.createElement(u.a,null,R.a.createElement(i.a,{container:!0,xs:12},F.map((function(e,t){var F=e[0],B=F.move,U=(F.target,B[0]),u=9*y.indexOf(U),l=L.substring(u,u+9).split("");return R.a.createElement(i.a,{key:U,container:!0,xs:6,md:6,justify:"space-between",alignItems:"center",direction:"row"},R.a.createElement(i.a,{item:!0,xs:2},R.a.createElement(w,{colors:l})),R.a.createElement(i.a,{item:!0,xs:10,spacing:1},R.a.createElement(c.a,{key:t,variant:"text","aria-label":"text primary button group",fullWidth:!0,style:{padding:5,marginRight:5}},e.map((function(e){e.source;var t=e.target,F=e.move;return R.a.createElement(o.a,{key:F,onClick:function(){return n(F,t)},onMouseEnter:function(){return r(t)},style:{backgroundColor:D&&D.move==F?a.palette.success.main:"transparent"}},F)})))))})))))}function C(){var e=Object(B.a)(["\n--cube-color-u: ",";\n--cube-color-d: ",";\n--cube-color-f: ",";\n--cube-color-b: ",";\n--cube-color-l: ",";\n--cube-color-r: ",";\nmin-height: 100%;\nmargin: auto;\n"]);return C=function(){return e},e}var T=Object(E.a)((function(e){var t=e.className,n=e.faces,D=e.onChange,a=e.neighbors,F=e.onHover,B=e.nextMove,L=R.a.useRef();return Object(r.useEffect)((function(){void 0!==L&&void 0!==L.current&&L.current.addEventListener("move-finished",(function(){console.log("move-finished")}))}),[]),Object(r.useEffect)((function(){if(void 0!==L&&void 0!==L.current&&void 0!==n&&!Object(p.isEmpty)(n)){var e=L.current;e.moving||(e.faces=n)}}),[n]),R.a.createElement("div",{className:t},R.a.createElement("scary-cube",{ref:L}),R.a.createElement(N,{key:n,addMove:function(e,t){void 0!==L&&void 0!==L.current&&(L.current.addMove(e),Object(p.delay)((function(){return D(t)}),100))},moves:a,onHover:F,nextMove:B}))}))(C(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.secondary.dark}),(function(e){return e.theme.palette.success.dark}),(function(e){return e.theme.palette.info.dark}),(function(e){return e.theme.palette.warning.dark}),(function(e){return e.theme.palette.error.dark}));function H(e){var t=Object(j.a)();return R.a.createElement(T,Object.assign({theme:t},e))}var M=n(25),I=n(69),$=n(98);function q(e){var t=e.cube,n=e.path,D=e.neighbors,a=e.width,B=e.height,L=e.onClick,U=e.hovered,c=Object(r.useRef)(),o=Object(j.a)(),i=Object(r.useState)({links:[],nodes:[]}),u=Object(F.a)(i,2),l=u[0],s=u[1],f=Object(r.useState)(t),m=Object(F.a)(f,2),d=m[0],b=m[1],g=Object(r.useState)(new Set),v=Object(F.a)(g,2),h=v[0],O=v[1],E=new Set;Object(r.useEffect)((function(){console.log("useEffect!"),s((function(e){var r=e.links,R=e.nodes;R.forEach((function(e){var t=e.id;E.add(t)}));var a=[t];D.forEach((function(e){var t=e.source,n=e.target;a.push(t,n)})),n.forEach((function(e){var t=e.source,n=e.target;a.push(t,n)})),a=Object(p.uniq)(a).filter((function(e){return!E.has(e)}));var F=[].concat(Object(M.a)(Object(p.cloneDeep)(n)),Object(M.a)(Object(p.cloneDeep)(D))).filter((function(e){var t=e.source,n=e.target;return!(E.has(t)&&E.has(n))}));return{nodes:[].concat(Object(M.a)(R),Object(M.a)(a.map((function(e){return e&&e.id?e:{id:e}})))),links:[].concat(Object(M.a)(r),Object(M.a)(F))}}))}),[D,n]),Object(r.useEffect)((function(){s((function(e){var n=e.links,r=e.nodes;return function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t){var r=e[n],R=(r.index,r.x),D=r.y;R&&D&&c&&c.current&&c.current.centerAt(R,D,500)}}(r,t),{links:n,nodes:r}})),b(t),O((function(e){return e.add(t)}))}),[t]);var y=new Set(D.map((function(e){return e.target}))),x=new Set([t].concat(Object(M.a)(n.map((function(e){return e.target}))))),w={CURRENT:o.palette.primary.dark,NEIGHBOR:o.palette.secondary.light,PATH:o.palette.info.main,OTHER:"#999",VISITED:o.palette.primary.light,SOLUTION:o.palette.success.main,HOVERED:o.palette.warning.light};function S(e){var t=e.id;return t===d||t===U||y.has(t)||x.has(t)||t==k||h.has(t)}return console.log("Graph render...",h),R.a.createElement($.a,{ref:c,width:a,height:B,nodeRelSize:4,graphData:l,nodeLabel:"id",linkColor:function(){return"#aaa"},linkOpacity:function(){return.05},linkDirectionalParticleColor:function(){return"#666"},linkDirectionalParticles:2,linkDirectionalParticleSpeed:.005,cooldownTicks:2e3,cooldownTime:1500,nodeColor:function(e){var t=e.id;return t===k?w.SOLUTION:t===d?w.CURRENT:t===U?w.HOVERED:h.has(t)?w.VISITED:x.has(t)?w.PATH:y.has(t)?w.NEIGHBOR:w.OTHER},nodeVal:function(e){var n=e.id;return U===n?5+Object(p.now)()%2e3/2e3*4:k===n?20:n===t?15:h.has(n)?10:x.has(n)?5:(y.has(n),1)},onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y},onEngineStop:function(){c.current.zoomToFit(100,20,S)},onNodeClick:function(e,t){s((function(t){var n=t.nodes,r=t.links;return e[e.index]=Object(I.a)({},e,{fx:e.x,fy:e.y}),{nodes:n,links:r}})),O((function(t){return t.add(e.id)})),setTimeout((function(){L(e)}),200)}})}var P=n(172);function V(){var e=Object(B.a)(["\n  query getSolution($source: String, $target: String) {\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return V=function(){return e},e}var W=Object(v.a)(V()),z=Object(h.a)({root:{minWidth:"100%",maxHeight:"30vh",overflow:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12},primary:{fontSize:10}});function A(e){var t=e.move,n=(e.source,e.target),r=e.onClick;return R.a.createElement(P.a,{title:n,"aria-label":t},R.a.createElement("span",{onClick:function(){r(n)}},t))}function G(e){var t=e.source,n=e.steps,D=e.setFaces,a=e.setNextMove,B=Object(r.useState)([]),L=Object(F.a)(B,2),U=L[0],c=L[1];z();return Object(r.useEffect)((function(){var e,r=U.findIndex((function(e){return e.target==t}));r<0?(e=n,console.log("in the path!")):e=U.slice(r+1),c(e)}),[t,n]),Object(r.useEffect)((function(){var e=U.length>0&&U[0];a(e||null)}),[U]),R.a.createElement("div",{className:"path-list"},U.map((function(e,t){var n=e.move,a=e.target,F=e.source;return R.a.createElement(r.Fragment,{key:a},t>0&&"  ",R.a.createElement(A,{key:a,move:n,source:F,target:a,onClick:function(){return D(a)}}))})))}var J=function(e){var t=e.faces,n=e.setFaces,r=e.setNextMove,D=(z(),Object(L.a)(W,{variables:{source:t,target:k}})),a=(D.loading,D.error,D.data);return R.a.createElement(G,{steps:Object(p.get)(a,"path",[]),source:t,setFaces:n,setNextMove:r})};var K=n(68);function Q(){var e=Object(B.a)(["\nquery {\n    random{\n      id\n      visitors {\n        name,\n        \n      }\n    }  \n}"]);return Q=function(){return e},e}function X(){var e=Object(B.a)(["\n  query getSolution($source: String, $target: String) {\n      neighbors(source: $source) {\n          move, source, target\n      }\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return X=function(){return e},e}var Y=new d.a({cache:new b.a,link:new g.a({uri:"/graphql"})}),Z=Object(v.a)(X());Object(v.a)(Q());function _(){var e=Object(r.useState)({previous:null,current:Object(p.sample)(K)}),t=Object(F.a)(e,2),n=t[0],D=t[1],a=Object(r.useState)(0),B=Object(F.a)(a,2),L=B[0],U=B[1],i=function(e){n.current!==e&&D((function(t){return{previous:t.current,current:e}}))},u=Object(m.a)("(prefers-color-scheme: dark)"),d=R.a.useMemo((function(){return Object(s.a)({palette:{background:{default:"rgb(242, 245, 182)"},type:"light"}})}),[u]);return console.log(d),R.a.createElement(f.a,{theme:d},R.a.createElement(l.a,null),R.a.createElement("div",{className:"cubegraph-buttons"},R.a.createElement(c.a,{color:"primary","aria-label":"outlined primary button group",orientation:"vertical"},R.a.createElement(o.a,{onClick:function(){i(Object(p.sample)(K))}},"Random"),R.a.createElement(o.a,{onClick:function(){return U((function(e){return e+1}))}},"Reset"))),R.a.createElement(ee,{faces:n.current,previous:n.previous||k,setFaces:i,graphKey:L}))}function ee(e){var t=e.faces,n=e.setFaces,D=e.previous,a=e.graphKey,B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(r.useState)(e),n=Object(F.a)(t,2),R=n[0],D=n[1],a=Object(r.useCallback)((function(e){null!==e&&D(e.getBoundingClientRect())}),[]);return[R,a]}({width:500,height:100}),U=Object(F.a)(B,2),c=U[0],o=U[1],l=Object(r.useState)(null),s=Object(F.a)(l,2),f=s[0],m=s[1],d=Object(r.useState)(null),b=Object(F.a)(d,2),g=b[0],v=b[1],h=Object(L.a)(Z,{variables:{source:t,target:D}}),O=(h.loading,h.error,h.data);function j(e){n(e)}console.log(c.width,"x",c.height);var E="".concat(c.width,"x").concat(c.height,"x").concat(t);return R.a.createElement(R.a.Fragment,null,R.a.createElement(i.a,{container:!0},R.a.createElement(i.a,{item:!0,xs:12,sm:5,className:"grid"},R.a.createElement(i.a,{item:!0,xs:12},R.a.createElement(u.a,{m:2},R.a.createElement(H,{key:E,faces:t,onChange:j,neighbors:Object(p.cloneDeep)(Object(p.get)(O,"neighbors",[])),onHover:function(e){return m(e)},nextMove:g})))),R.a.createElement(i.a,{item:!0,xs:12,sm:7,className:"graph",ref:o},R.a.createElement(q,{key:a,cube:t,width:c.width,height:c.height,path:Object(p.get)(O,"path",[]),onClick:function(e){return j(e.id)},hovered:f,neighbors:Object(p.get)(O,"neighbors",[])}))),R.a.createElement(J,{faces:t,setFaces:j,setNextMove:v}))}var te=function(){return R.a.createElement(U.a,{client:Y},R.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(R.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e){e.exports=JSON.parse('["FFLBUBFDBDLUURUBDBDRRUFFDLDFDLRDBURULRLDLLFURBLUBBFRFR","DFLRUDFRULBFLRFBDRUDBBFFBUULLRRDLFRDLFRLLUDBDUDFUBBBUR","UFRDUBRDDBLFFRBBRBFFLDFUBRRRBDBDFDLLFLURLRFDUDLLUBUUUL","LDURUUFRRUFBBRLLDDRDBUFRDRDBFFLDBFLBUUDBLLRBLLFFDBURFU","RUBBULRLLDBUBRDDLLFUBFFUDLFFFLRDDLUFBRUDLDUFRRFDRBBURB","RRLDUFLRDLDFURLRBRDDFUFBBFUULFRDDDUBDLBFLLBBLUFFBBUURR","UFBBUDDRURFRURFRBDBBFBFFUDBFRULDLFLFLDLULUDULDRBLBRLDR","DURBUDLLLFRBBRDUBRDFDLFLBBFURRRDULUFRDBULDFFLULBFBFDRU","URFUUDFUBDLDDRRFRBDFRDFBRBUFLLLDDLRLBLLULFBFURBRFBBUUD","ULRUUBUULUUUFRRLLLLLFFFUDRBFBDDDFBDDBRBBLDRBRFDRFBLFRD","UDDUUUUFLFLBRRDDFRBRDFFUFBRLRFDDLLLULBRULDBLURRBBBFFBD","FRRBUUDUBRLDFRUDDRLBUFFUBRRLBFDDRUDULLFDLLBFDBFURBLFBL","LRDRUFFFBDUFBRRLBFLLRBFLDDUFFBBDUULRDUUDLDRRRLFBDBLUUB","BUUBUULRLDLLDRBRLFBBBDFFDBBFUURDFFRRDDURLLLFRFFRLBUUDD","DFDUUBFRLFURLRLUFRUDDBFDBBLRRFLDDUUDBLRRLDBBUFULFBFBRL","RUDFULRRBDDFBRDFUFDURUFRUDRLRUFDFLBUUDFFLBBRBLLBBBLLLD","UDDLUULFRDBBBRRUBUFUFDFLBRLLUFBDDBRBRFDLLFURDRLFFBULDR","LLRUULLRDBDDDRLRRFFBLFFBFRBRFUDDDUBRBRDLLULFDBUUFBBUUF","DFLFURDRULDBBRUDUFFFBRFUUFBRURBDRRLULDRDLBBLFDLFLBBLDU","RLFFUULUFLRDFRDUUDBLUDFLDFRBUBLDBRFFFDURLRDBLRDUBBBLRB","FLBLUULURFFDFRDDRBBBULFDFUBRRRDDFFRUDBULLFUBDLULRBDRBL","LBRFULFUUFBDLRRLUFRLLRFDBUURBBFDRDFRDDDBLDFUUBDBFBRULL","DDRUUBBFFRUBFRBLFRULDBFRDBDBRFRDDFLURFLULDUULURBLBLFDL","BFRFUBFRBULUFRRDLRLBLDFUDDFBBLRDFDUBDDUBLLRDLFRRUBUULF","FRRFUUBBFDBFFRDLRULDLUFDBUUDLBLDURDFLRDBLFBFRDBURBLRLU","BFRRUFUBRUDFURBFUFLRBLFLURLFDDFDBBBRLFBRLDRULDLDLBUUDD","DUUDUBUDRBUFBRRFBRFRDRFDLFLBLDBDLRUBBLLFLUFRURLLFBDUFD","BRBRUDLBFLFLBRBFLRDUUFFRFLDDFRFDUULUDDBLLURRLUURDBDFBB","FBRLULUURDFBURFLDDFLFDFFURDLBFRDRBRBUBLULLDFBUDRDBBRUL","LDFFULDDRBFDFRRRLDLFDBFRBLURBFDDUUBLBUFBLDLRURLUUBRBUF","RLLUUUDUDLBUDRBFFUBLFBFLRFUBRLRDDDFFURLBLLRDDBFBRBDRUF","BRRRUDLBFLRDBRDRBFDUUDFLFFFULDLDRULLRFBULFBURBUUBBFDDL","UDLRUUFBDFRBFRDRBBDLRDFUUFBLDUUDRULRFFLLLBFBBDRLLBUDFR","URLRUDRRFLRDFRLDLBUFUDFUBLLDUBUDFDBLRBBFLLRBRFUFBBDUDF","FBDUUFLRFLLLRRUBLRBDUDFBFLURURDDBRFDDFUULFULDBDLRBBBRF","RLLBULFRDRBDRRDDLBLFBDFURFLFUBRDUBBLDUUBLLUDUFFFFBDURR","UBLFUBDLRURBFRRULUFUBUFUDDBRFLDDBLLLRLRRLRDBBDUFFBDFDF","BLRRURRBRUUFLRBUFFFRBDFUUDBFBLRDUDLLLFUFLLBDLDBDUBDDFR","LRLBUFRBFRDDLRURDBBRDUFBLDUBBFRDRDLUUUDLLFLUUFFFLBFRDB","URBFUBDDDRLUFRDLRLFLBFFDLBBFUDLDBBRFRLRFLULUDRUFBBRUDU","RRDLUBUDRDDLRRFBRBFFFUFBURLBDULDFLBRFULLLBDDRBUUUBFDLF","LDBFULDDDLUUURFUURFRFBFRDLLRFFRDBLLUDDRLLRUFBRBBUBBFDB","FLFRUUBLBDFRRRBLFLUURBFDDFFFDURDLRBBDULRLDBFRUDLLBBDUU","UULFULRUDLDFURRRLFFBFDFLLFDDLBRDBBDDLUUDLFUBBURBFBBRRR","FDRLUUUDFRRBBRLDLBRFDRFUUFLFUBDDBLFRDFFBLBULLURLUBDDRB","DFRUUUDFBUBBBRLDDLRRLDFRUDFRBLFDFRDFBRBLLRFLFUULUBBULD","DRUFUFBBBDDBRRRRFDRDRUFUDRUBFFLDUFDFFLUBLLUBLLBRDBULLL","LUDFUFRBRUDBRRLLBFDLBRFDFRDUBFUDDLUUDUFDLFULRRRBFBLLBB","LDFRUBUULFLRURRULBFFDFFRDDRFBBRDDLURDFLBLLUBRUFBDBUDLB","BUFUUURFRFLLDRBBFUDLUBFLLDRDFDRDRLULRBFRLDUDBDRULBBFFB"]')}},[[108,1,2]]]);
//# sourceMappingURL=main.c931d931.chunk.js.map