(this["webpackJsonpgraphql-typescript-react"]=this["webpackJsonpgraphql-typescript-react"]||[]).push([[0],{103:function(e,t,n){e.exports=n(129)},108:function(e,t,n){},110:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var R=n(0),D=n.n(R),F=n(25),B=n.n(F),L=(n(108),n(23)),U=n(11),r=n(58),a=n(19),c=n(161),o=n(168),i=n(167),u=n(94),l=n(166),s=n(165),f=(n(61),n(24)),d=n(42),m=n(51),b=n(48),g=(n(110),n(10)),p=n(132),v=n(160),h=n(170),O=n(162),j=n(40),E=n(159),k="UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",y=Object(g.uniq)(k);function w(){var e=Object(U.a)(['\ndisplay: grid;\ngrid-gap: 1px;\ngrid-template-columns: repeat(3, 1fr);\nborder: 1px solid black;\nbackground-color: black;\n> div::before {\n    content: "";\n    padding-bottom: 100%;\n    display: block;\n  }\n']);return w=function(){return e},e}var x=Object(j.a)((function(e){var t=e.colors,n=e.className,R=function(e){return{U:e.palette.background.paper,D:e.palette.secondary.dark,F:e.palette.success.dark,B:e.palette.info.dark,L:e.palette.warning.dark,R:e.palette.error.dark}}(Object(E.a)());return D.a.createElement("div",{class:n},t.map((function(e,t){return D.a.createElement("div",{key:t,style:{backgroundColor:R[e]}})})))}))(w()),S=Object(v.a)((function(e){return Object(h.a)({root:{margin:0}})}));function N(e){for(var t=e.moves,n=e.addMove,R=e.onHover,F=(S(),[]),B=0;B<t.length;B+=3)F.push(t.slice(B,B+3));var L=(t.length>0?t[0]:{}).source;return Object(g.isEmpty)(L)?D.a.createElement("span",null):D.a.createElement(o.a,null,D.a.createElement(c.a,{container:!0,xs:12},F.map((function(e,t){var F=e[0],B=F.move,U=F.target,r=B[0],a=9*y.indexOf(r),o=L.substring(a,a+9).split("");return D.a.createElement(c.a,{key:r,container:!0,xs:12,md:6,justify:"space-between",alignItems:"center",direction:"row",style:{marginBottom:20},onMouseEnter:function(){return R(U)}},D.a.createElement(c.a,{item:!0,xs:2},D.a.createElement(x,{colors:o})),D.a.createElement(c.a,{item:!0,xs:10},D.a.createElement(O.a,{key:t,variant:"text","aria-label":"text primary button group",fullWidth:!0},e.map((function(e){e.source;var t=e.target,R=e.move;return D.a.createElement(p.a,{key:R,onClick:function(){return n(R,t)}},R)})))))}))))}function C(){var e=Object(U.a)(["\n--cube-color-u: ",";\n--cube-color-d: ",";\n--cube-color-f: ",";\n--cube-color-b: ",";\n--cube-color-l: ",";\n--cube-color-r: ",";\nmin-height: 100%;\nmargin: auto;\n"]);return C=function(){return e},e}var H=Object(j.a)((function(e){var t=e.className,n=e.faces,F=e.onChange,B=e.neighbors,L=e.onHover,U=D.a.useRef();return Object(R.useEffect)((function(){void 0!==U&&void 0!==U.current&&U.current.addEventListener("move-finished",(function(){console.log("move-finished")}))}),[]),Object(R.useEffect)((function(){if(void 0!==U&&void 0!==U.current&&void 0!==n&&!Object(g.isEmpty)(n)){var e=U.current;e.moving||(e.faces=n)}}),[n]),D.a.createElement("div",{className:t},D.a.createElement("scary-cube",{ref:U}),D.a.createElement(N,{key:n,addMove:function(e,t){void 0!==U&&void 0!==U.current&&(U.current.addMove(e),Object(g.delay)((function(){return F(t)}),100))},moves:B,onHover:L}))}))(C(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.secondary.dark}),(function(e){return e.theme.palette.success.dark}),(function(e){return e.theme.palette.info.dark}),(function(e){return e.theme.palette.warning.dark}),(function(e){return e.theme.palette.error.dark}));function T(e){var t=Object(E.a)();return D.a.createElement(H,Object.assign({theme:t},e))}var I=n(22),$=n(64),q=n(93);function M(e){var t=e.cube,n=e.path,F=e.neighbors,B=e.width,U=e.height,r=(e.onClick,e.hovered),a=Object(R.useRef)(),c=Object(E.a)(),o=Object(R.useState)({links:[],nodes:[]}),i=Object(L.a)(o,2),u=i[0],l=i[1],s=Object(R.useState)(t),f=Object(L.a)(s,2),d=f[0],m=f[1],b=Object(R.useState)(new Set),p=Object(L.a)(b,2),v=p[0],h=p[1],O=new Set;Object(R.useEffect)((function(){console.log("useEffect!"),l((function(e){var R=e.links,D=e.nodes;D.forEach((function(e){var t=e.id;O.add(t)}));var B=[t];F.forEach((function(e){var t=e.source,n=e.target;B.push(t,n)})),n.forEach((function(e){var t=e.source,n=e.target;B.push(t,n)})),B=Object(g.uniq)(B).filter((function(e){return!O.has(e)}));var L=[].concat(Object(I.a)(Object(g.cloneDeep)(n)),Object(I.a)(Object(g.cloneDeep)(F))).filter((function(e){var t=e.source,n=e.target;return!(O.has(t)&&O.has(n))}));return{nodes:[].concat(Object(I.a)(D),Object(I.a)(B.map((function(e){return e&&e.id?e:{id:e}})))),links:[].concat(Object(I.a)(R),Object(I.a)(L))}}))}),[F,n]),Object(R.useEffect)((function(){l((function(e){var n=e.links,R=e.nodes;return function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t){var R=e[n],D=R.index,F=R.x,B=R.y;return e[D]=Object($.a)({},e[D],{fx:F,fy:B}),console.log("fixed",t,F,B),e[D]}}(R,t),{links:n,nodes:R}})),m(t)}),[t]);var j=new Set(F.map((function(e){return e.target}))),y=new Set([t].concat(Object(I.a)(n.map((function(e){return e.target}))))),w={CURRENT:c.palette.primary.light,NEIGHBOR:c.palette.secondary.light,PATH:c.palette.info.main,OTHER:"#333",VISITED:c.palette.secondary.dark,SOLUTION:c.palette.success.main,HOVERED:c.palette.warning.light};return console.log("Graph render..."),D.a.createElement(q.a,{ref:a,width:B,height:U,nodeRelSize:4,graphData:u,nodeLabel:"id",linkColor:function(){return"#aaa"},linkOpacity:function(){return.05},linkDirectionalParticleColor:function(){return"#666"},linkDirectionalParticles:2,linkDirectionalParticleSpeed:.005,onMouseLeave:function(){return a.current.zoomToFit(100)},cooldownTicks:2e3,cooldownTime:1500,nodeColor:function(e){var t=e.id;return t===k?w.SOLUTION:t===d?w.CURRENT:t===r?w.HOVERED:j.has(t)?w.NEIGHBOR:y.has(t)?w.PATH:v.has(t)?w.VISITED:w.OTHER},nodeVal:function(e){var n=e.id;return r===n?1+Object(g.now)()%2e3/2e3*4:k===n?6:n===t?5:v.has(n)?4:y.has(n)?5:(j.has(n),1)},onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y},onNodeClick:function(e,t){l((function(t){var n=t.nodes,R=t.links;return e[e.index]=Object($.a)({},e,{fx:e.x,fy:e.y}),{nodes:n,links:R}})),h((function(t){return t.add(e.id)}))}})}var P=n(163),V=n(173),W=n(164),z=n(171),G=n(172);function J(){var e=Object(U.a)(["\n  query getSolution($source: String, $target: String) {\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return J=function(){return e},e}var A=Object(b.a)(J()),K=Object(v.a)({root:{minWidth:"100%",maxHeight:"30vh",overflow:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12},primary:{fontSize:10}});function Q(e){var t=e.source,n=e.steps,F=e.setFaces,B=Object(R.useState)([]),U=Object(L.a)(B,2),r=U[0],a=U[1],o=K();return Object(R.useEffect)((function(){var e=r.findIndex((function(e){return e.target==t}));e<0?(a(n),console.log("in the path!")):a(r.slice(e+1))}),[t,n]),D.a.createElement(c.a,{container:!0},r.map((function(e,t){var n=e.target,B=e.move;return D.a.createElement(R.Fragment,{key:n},t>0&&D.a.createElement(P.a,null),D.a.createElement(z.a,{button:!0,key:n,onClick:function(){F(n)}},D.a.createElement(G.a,{className:o.primary,primary:"".concat(t+1,": ").concat(B),secondary:n})))})))}var X=function(e){var t=e.faces,n=e.setFaces,R=K(),F=Object(r.a)(A,{variables:{source:t,target:k}}),B=(F.loading,F.error,F.data);return D.a.createElement(V.a,{className:R.root},D.a.createElement(W.a,null,D.a.createElement(Q,{steps:Object(g.get)(B,"path",[]),source:t,setFaces:n})))};var Y=n(92);function Z(){var e=Object(U.a)(["\nquery {\n    random{\n      id\n      visitors {\n        name,\n        \n      }\n    }  \n}"]);return Z=function(){return e},e}function _(){var e=Object(U.a)(["\n  query getSolution($source: String, $target: String) {\n      neighbors(source: $source) {\n          move, source, target\n      }\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return _=function(){return e},e}var ee=new f.a({cache:new d.a,link:new m.a({uri:"/graphql"})}),te=Object(b.a)(_());Object(b.a)(Z());function ne(){var e=Object(R.useState)({previous:null,current:Object(g.sample)(Y)}),t=Object(L.a)(e,2),n=t[0],F=t[1],B=Object(s.a)("(prefers-color-scheme: dark)"),U=D.a.useMemo((function(){return Object(u.a)({palette:{background:{default:"rgb(242, 245, 182)"},type:B?"light":"dark"}})}),[B]);return console.log(U),D.a.createElement(l.a,{theme:U},D.a.createElement(i.a,null),D.a.createElement(Re,{faces:n.current,previous:n.previous||k,setFaces:function(e){n.current!==e&&F((function(t){return{previous:t.current,current:e}}))}}))}function Re(e){var t=e.faces,n=e.setFaces,F=e.previous,B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(R.useState)(e),n=Object(L.a)(t,2),D=n[0],F=n[1],B=Object(R.useCallback)((function(e){null!==e&&F(e.getBoundingClientRect())}),[]);return[D,B]}({width:500,height:100}),U=Object(L.a)(B,2),a=U[0],i=U[1],u=Object(R.useState)(null),l=Object(L.a)(u,2),s=l[0],f=l[1],d=Object(r.a)(te,{variables:{source:t,target:F}}),m=(d.loading,d.error,d.data);function b(e){n(e)}return D.a.createElement(c.a,{container:!0},D.a.createElement(c.a,{item:!0,xs:5,className:"grid"},D.a.createElement(c.a,{item:!0,xs:12},D.a.createElement(o.a,{m:2},D.a.createElement(T,{key:t,faces:t,onChange:b,neighbors:Object(g.cloneDeep)(Object(g.get)(m,"neighbors",[])),onHover:function(e){return f(e)}}))),D.a.createElement(c.a,{item:!0,xs:12},D.a.createElement(o.a,{m:2},D.a.createElement(X,{faces:t,setFaces:b})))),D.a.createElement(c.a,{item:!0,xs:7,className:"graph",ref:i},D.a.createElement(M,{cube:t,width:a.width,height:a.height,path:Object(g.get)(m,"path",[]),onClick:function(e){return b(e.id)},hovered:s,neighbors:Object(g.get)(m,"neighbors",[])})))}var De=function(){return D.a.createElement(a.a,{client:ee},D.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));B.a.render(D.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e){e.exports=JSON.parse('["FFLBUBFDBDLUURUBDBDRRUFFDLDFDLRDBURULRLDLLFURBLUBBFRFR","DFLRUDFRULBFLRFBDRUDBBFFBUULLRRDLFRDLFRLLUDBDUDFUBBBUR","UFRDUBRDDBLFFRBBRBFFLDFUBRRRBDBDFDLLFLURLRFDUDLLUBUUUL","LDURUUFRRUFBBRLLDDRDBUFRDRDBFFLDBFLBUUDBLLRBLLFFDBURFU","RUBBULRLLDBUBRDDLLFUBFFUDLFFFLRDDLUFBRUDLDUFRRFDRBBURB","RRLDUFLRDLDFURLRBRDDFUFBBFUULFRDDDUBDLBFLLBBLUFFBBUURR","UFBBUDDRURFRURFRBDBBFBFFUDBFRULDLFLFLDLULUDULDRBLBRLDR","DURBUDLLLFRBBRDUBRDFDLFLBBFURRRDULUFRDBULDFFLULBFBFDRU","URFUUDFUBDLDDRRFRBDFRDFBRBUFLLLDDLRLBLLULFBFURBRFBBUUD","ULRUUBUULUUUFRRLLLLLFFFUDRBFBDDDFBDDBRBBLDRBRFDRFBLFRD","UDDUUUUFLFLBRRDDFRBRDFFUFBRLRFDDLLLULBRULDBLURRBBBFFBD","FRRBUUDUBRLDFRUDDRLBUFFUBRRLBFDDRUDULLFDLLBFDBFURBLFBL","LRDRUFFFBDUFBRRLBFLLRBFLDDUFFBBDUULRDUUDLDRRRLFBDBLUUB","BUUBUULRLDLLDRBRLFBBBDFFDBBFUURDFFRRDDURLLLFRFFRLBUUDD","DFDUUBFRLFURLRLUFRUDDBFDBBLRRFLDDUUDBLRRLDBBUFULFBFBRL","RUDFULRRBDDFBRDFUFDURUFRUDRLRUFDFLBUUDFFLBBRBLLBBBLLLD","UDDLUULFRDBBBRRUBUFUFDFLBRLLUFBDDBRBRFDLLFURDRLFFBULDR","LLRUULLRDBDDDRLRRFFBLFFBFRBRFUDDDUBRBRDLLULFDBUUFBBUUF","DFLFURDRULDBBRUDUFFFBRFUUFBRURBDRRLULDRDLBBLFDLFLBBLDU","RLFFUULUFLRDFRDUUDBLUDFLDFRBUBLDBRFFFDURLRDBLRDUBBBLRB","FLBLUULURFFDFRDDRBBBULFDFUBRRRDDFFRUDBULLFUBDLULRBDRBL","LBRFULFUUFBDLRRLUFRLLRFDBUURBBFDRDFRDDDBLDFUUBDBFBRULL","DDRUUBBFFRUBFRBLFRULDBFRDBDBRFRDDFLURFLULDUULURBLBLFDL","BFRFUBFRBULUFRRDLRLBLDFUDDFBBLRDFDUBDDUBLLRDLFRRUBUULF","FRRFUUBBFDBFFRDLRULDLUFDBUUDLBLDURDFLRDBLFBFRDBURBLRLU","BFRRUFUBRUDFURBFUFLRBLFLURLFDDFDBBBRLFBRLDRULDLDLBUUDD","DUUDUBUDRBUFBRRFBRFRDRFDLFLBLDBDLRUBBLLFLUFRURLLFBDUFD","BRBRUDLBFLFLBRBFLRDUUFFRFLDDFRFDUULUDDBLLURRLUURDBDFBB","FBRLULUURDFBURFLDDFLFDFFURDLBFRDRBRBUBLULLDFBUDRDBBRUL","LDFFULDDRBFDFRRRLDLFDBFRBLURBFDDUUBLBUFBLDLRURLUUBRBUF","RLLUUUDUDLBUDRBFFUBLFBFLRFUBRLRDDDFFURLBLLRDDBFBRBDRUF","BRRRUDLBFLRDBRDRBFDUUDFLFFFULDLDRULLRFBULFBURBUUBBFDDL","UDLRUUFBDFRBFRDRBBDLRDFUUFBLDUUDRULRFFLLLBFBBDRLLBUDFR","URLRUDRRFLRDFRLDLBUFUDFUBLLDUBUDFDBLRBBFLLRBRFUFBBDUDF","FBDUUFLRFLLLRRUBLRBDUDFBFLURURDDBRFDDFUULFULDBDLRBBBRF","RLLBULFRDRBDRRDDLBLFBDFURFLFUBRDUBBLDUUBLLUDUFFFFBDURR","UBLFUBDLRURBFRRULUFUBUFUDDBRFLDDBLLLRLRRLRDBBDUFFBDFDF","BLRRURRBRUUFLRBUFFFRBDFUUDBFBLRDUDLLLFUFLLBDLDBDUBDDFR","LRLBUFRBFRDDLRURDBBRDUFBLDUBBFRDRDLUUUDLLFLUUFFFLBFRDB","URBFUBDDDRLUFRDLRLFLBFFDLBBFUDLDBBRFRLRFLULUDRUFBBRUDU","RRDLUBUDRDDLRRFBRBFFFUFBURLBDULDFLBRFULLLBDDRBUUUBFDLF","LDBFULDDDLUUURFUURFRFBFRDLLRFFRDBLLUDDRLLRUFBRBBUBBFDB","FLFRUUBLBDFRRRBLFLUURBFDDFFFDURDLRBBDULRLDBFRUDLLBBDUU","UULFULRUDLDFURRRLFFBFDFLLFDDLBRDBBDDLUUDLFUBBURBFBBRRR","FDRLUUUDFRRBBRLDLBRFDRFUUFLFUBDDBLFRDFFBLBULLURLUBDDRB","DFRUUUDFBUBBBRLDDLRRLDFRUDFRBLFDFRDFBRBLLRFLFUULUBBULD","DRUFUFBBBDDBRRRRFDRDRUFUDRUBFFLDUFDFFLUBLLUBLLBRDBULLL","LUDFUFRBRUDBRRLLBFDLBRFDFRDUBFUDDLUUDUFDLFULRRRBFBLLBB","LDFRUBUULFLRURRULBFFDFFRDDRFBBRDDLURDFLBLLUBRUFBDBUDLB","BUFUUURFRFLLDRBBFUDLUBFLLDRDFDRDRLULRBFRLDUDBDRULBBFFB"]')}},[[103,1,2]]]);
//# sourceMappingURL=main.3ee2139c.chunk.js.map