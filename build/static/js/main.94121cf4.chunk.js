(this["webpackJsonpgraphql-typescript-react"]=this["webpackJsonpgraphql-typescript-react"]||[]).push([[0],{103:function(e,t,n){e.exports=n(129)},108:function(e,t,n){},110:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var R=n(0),a=n.n(R),D=n(25),r=n.n(D),F=(n(108),n(22)),B=n(11),L=n(58),U=n(19),c=n(162),o=n(132),i=n(161),u=n(168),l=n(167),s=n(94),f=n(166),m=n(165),d=(n(61),n(24)),b=n(41),g=n(50),v=n(47),p=(n(110),n(10)),h=n(160),O=n(170),E=n(159),j=n(54),k="UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",y=Object(p.uniq)(k);function x(){var e=Object(B.a)(['\ndisplay: grid;\ngrid-gap: 1px;\ngrid-template-columns: repeat(3, 1fr);\nborder: 1px solid black;\nbackground-color: black;\n> div::before {\n    content: "";\n    padding-bottom: 100%;\n    display: block;\n  }\n']);return x=function(){return e},e}var w=Object(j.a)((function(e){var t=e.colors,n=e.className,R=function(e){return{U:e.palette.background.paper,D:e.palette.secondary.dark,F:e.palette.success.dark,B:e.palette.info.dark,L:e.palette.warning.dark,R:e.palette.error.dark}}(Object(E.a)());return a.a.createElement("div",{class:n},t.map((function(e,t){return a.a.createElement("div",{key:t,style:{backgroundColor:R[e]}})})))}))(x()),S=Object(h.a)((function(e){return Object(O.a)({root:{margin:0}})}));function N(e){for(var t=e.moves,n=e.addMove,R=e.onHover,D=e.nextMove,r=(S(),Object(E.a)()),F=[],B=0;B<t.length;B+=3)F.push(t.slice(B,B+3));var L=(t.length>0?t[0]:{}).source;return Object(p.isEmpty)(L)?a.a.createElement("span",null):(console.log("nextmove",D),a.a.createElement(u.a,null,a.a.createElement(i.a,{container:!0,xs:12},F.map((function(e,t){var F=e[0],B=F.move,U=(F.target,B[0]),u=9*y.indexOf(U),l=L.substring(u,u+9).split("");return a.a.createElement(i.a,{key:U,container:!0,xs:12,md:6,justify:"space-between",alignItems:"center",direction:"row",style:{marginBottom:20}},a.a.createElement(i.a,{item:!0,xs:2},a.a.createElement(w,{colors:l})),a.a.createElement(i.a,{item:!0,xs:10,spacing:2},a.a.createElement(c.a,{key:t,variant:"text","aria-label":"text primary button group",fullWidth:!0,style:{padding:10}},e.map((function(e){e.source;var t=e.target,F=e.move;return a.a.createElement(o.a,{key:F,onClick:function(){return n(F,t)},onMouseEnter:function(){return R(t)},style:{backgroundColor:D&&D.move==F?r.palette.success.main:"transparent"}},F)})))))})))))}function C(){var e=Object(B.a)(["\n--cube-color-u: ",";\n--cube-color-d: ",";\n--cube-color-f: ",";\n--cube-color-b: ",";\n--cube-color-l: ",";\n--cube-color-r: ",";\nmin-height: 100%;\nmargin: auto;\n"]);return C=function(){return e},e}var M=Object(j.a)((function(e){var t=e.className,n=e.faces,D=e.onChange,r=e.neighbors,F=e.onHover,B=e.nextMove,L=a.a.useRef();return Object(R.useEffect)((function(){void 0!==L&&void 0!==L.current&&L.current.addEventListener("move-finished",(function(){console.log("move-finished")}))}),[]),Object(R.useEffect)((function(){if(void 0!==L&&void 0!==L.current&&void 0!==n&&!Object(p.isEmpty)(n)){var e=L.current;e.moving||(e.faces=n)}}),[n]),a.a.createElement("div",{className:t},a.a.createElement("scary-cube",{ref:L}),a.a.createElement(N,{key:n,addMove:function(e,t){void 0!==L&&void 0!==L.current&&(L.current.addMove(e),Object(p.delay)((function(){return D(t)}),100))},moves:r,onHover:F,nextMove:B}))}))(C(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.secondary.dark}),(function(e){return e.theme.palette.success.dark}),(function(e){return e.theme.palette.info.dark}),(function(e){return e.theme.palette.warning.dark}),(function(e){return e.theme.palette.error.dark}));function T(e){var t=Object(E.a)();return a.a.createElement(M,Object.assign({theme:t},e))}var H=n(23),I=n(65),$=n(93);function q(e){var t=e.cube,n=e.path,D=e.neighbors,r=e.width,B=e.height,L=e.onClick,U=e.hovered,c=Object(R.useRef)(),o=Object(E.a)(),i=Object(R.useState)({links:[],nodes:[]}),u=Object(F.a)(i,2),l=u[0],s=u[1],f=Object(R.useState)(t),m=Object(F.a)(f,2),d=m[0],b=m[1],g=Object(R.useState)(new Set),v=Object(F.a)(g,2),h=v[0],O=v[1],j=new Set;Object(R.useEffect)((function(){console.log("useEffect!"),s((function(e){var R=e.links,a=e.nodes;a.forEach((function(e){var t=e.id;j.add(t)}));var r=[t];D.forEach((function(e){var t=e.source,n=e.target;r.push(t,n)})),n.forEach((function(e){var t=e.source,n=e.target;r.push(t,n)})),r=Object(p.uniq)(r).filter((function(e){return!j.has(e)}));var F=[].concat(Object(H.a)(Object(p.cloneDeep)(n)),Object(H.a)(Object(p.cloneDeep)(D))).filter((function(e){var t=e.source,n=e.target;return!(j.has(t)&&j.has(n))}));return{nodes:[].concat(Object(H.a)(a),Object(H.a)(r.map((function(e){return e&&e.id?e:{id:e}})))),links:[].concat(Object(H.a)(R),Object(H.a)(F))}}))}),[D,n]),Object(R.useEffect)((function(){s((function(e){var n=e.links,R=e.nodes;return function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t){var R=e[n],a=(R.index,R.x),D=R.y;a&&D&&c&&c.current&&c.current.centerAt(a,D,500)}}(R,t),{links:n,nodes:R}})),b(t)}),[t]);var y=new Set(D.map((function(e){return e.target}))),x=new Set([t].concat(Object(H.a)(n.map((function(e){return e.target}))))),w={CURRENT:o.palette.primary.light,NEIGHBOR:o.palette.secondary.light,PATH:o.palette.info.main,OTHER:"#333",VISITED:o.palette.secondary.dark,SOLUTION:o.palette.success.main,HOVERED:o.palette.warning.light};return console.log("Graph render..."),a.a.createElement($.a,{ref:c,width:r,height:B,nodeRelSize:4,graphData:l,nodeLabel:"id",linkColor:function(){return"#aaa"},linkOpacity:function(){return.05},linkDirectionalParticleColor:function(){return"#666"},linkDirectionalParticles:2,linkDirectionalParticleSpeed:.005,onMouseLeave:function(){return c.current.zoomToFit(100)},cooldownTicks:2e3,cooldownTime:1500,nodeColor:function(e){var t=e.id;return t===k?w.SOLUTION:t===d?w.CURRENT:t===U?w.HOVERED:y.has(t)?w.NEIGHBOR:x.has(t)?w.PATH:h.has(t)?w.VISITED:w.OTHER},nodeVal:function(e){var n=e.id;return U===n?5+Object(p.now)()%2e3/2e3*4:k===n?20:n===t?15:h.has(n)?4:x.has(n)?5:(y.has(n),1)},onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y},onNodeClick:function(e,t){s((function(t){var n=t.nodes,R=t.links;return e[e.index]=Object(I.a)({},e,{fx:e.x,fy:e.y}),{nodes:n,links:R}})),O((function(t){return t.add(e.id)})),setTimeout((function(){L(e)}),200)}})}var P=n(163),V=n(173),W=n(164),z=n(171),A=n(172);function G(){var e=Object(B.a)(["\n  query getSolution($source: String, $target: String) {\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return G=function(){return e},e}var J=Object(v.a)(G()),Z=Object(h.a)({root:{minWidth:"100%",maxHeight:"30vh",overflow:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12},primary:{fontSize:10}});function K(e){var t=e.source,n=e.steps,D=e.setFaces,r=e.setNextMove,B=Object(R.useState)([]),L=Object(F.a)(B,2),U=L[0],c=L[1],o=Z();return Object(R.useEffect)((function(){var e,R=U.findIndex((function(e){return e.target==t}));R<0?(e=n,console.log("in the path!")):e=U.slice(R+1),c(e)}),[t,n]),Object(R.useEffect)((function(){var e=U.length>0&&U[0];r(e||null)}),[U]),a.a.createElement(i.a,{container:!0},U.map((function(e,t){var n=e.target,r=e.move;return a.a.createElement(R.Fragment,{key:n},t>0&&a.a.createElement(P.a,null),a.a.createElement(z.a,{button:!0,key:n,onClick:function(){D(n)}},a.a.createElement(A.a,{className:o.primary,primary:"".concat(t+1,": ").concat(r),secondary:n})))})))}var Q=function(e){var t=e.faces,n=e.setFaces,R=e.setNextMove,D=Z(),r=Object(L.a)(J,{variables:{source:t,target:k}}),F=(r.loading,r.error,r.data);return a.a.createElement(V.a,{className:D.root},a.a.createElement(W.a,null,a.a.createElement(K,{steps:Object(p.get)(F,"path",[]),source:t,setFaces:n,setNextMove:R})))};var X=n(64);function Y(){var e=Object(B.a)(["\nquery {\n    random{\n      id\n      visitors {\n        name,\n        \n      }\n    }  \n}"]);return Y=function(){return e},e}function _(){var e=Object(B.a)(["\n  query getSolution($source: String, $target: String) {\n      neighbors(source: $source) {\n          move, source, target\n      }\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return _=function(){return e},e}var ee=new d.a({cache:new b.a,link:new g.a({uri:"/graphql"})}),te=Object(v.a)(_());Object(v.a)(Y());function ne(){var e=Object(R.useState)({previous:null,current:Object(p.sample)(X)}),t=Object(F.a)(e,2),n=t[0],D=t[1],r=function(e){n.current!==e&&D((function(t){return{previous:t.current,current:e}}))},B=Object(m.a)("(prefers-color-scheme: dark)"),L=a.a.useMemo((function(){return Object(s.a)({palette:{background:{default:"rgb(242, 245, 182)"},type:B?"light":"dark"}})}),[B]);return console.log(L),a.a.createElement(f.a,{theme:L},a.a.createElement(l.a,null),a.a.createElement("div",{className:"cubegraph-buttons"},a.a.createElement(c.a,{color:"primary","aria-label":"outlined primary button group",orientation:"vertical"},a.a.createElement(o.a,{onClick:function(){r(Object(p.sample)(X))}},"Random"),a.a.createElement(o.a,null,"Zoom out"),a.a.createElement(o.a,null,"Reset"))),a.a.createElement(Re,{faces:n.current,previous:n.previous||k,setFaces:r}))}function Re(e){var t=e.faces,n=e.setFaces,D=e.previous,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(R.useState)(e),n=Object(F.a)(t,2),a=n[0],D=n[1],r=Object(R.useCallback)((function(e){null!==e&&D(e.getBoundingClientRect())}),[]);return[a,r]}({width:500,height:100}),B=Object(F.a)(r,2),U=B[0],c=B[1],o=Object(R.useState)(null),l=Object(F.a)(o,2),s=l[0],f=l[1],m=Object(R.useState)(null),d=Object(F.a)(m,2),b=d[0],g=d[1],v=Object(L.a)(te,{variables:{source:t,target:D}}),h=(v.loading,v.error,v.data);function O(e){n(e)}return a.a.createElement(i.a,{container:!0},a.a.createElement(i.a,{item:!0,xs:5,className:"grid"},a.a.createElement(i.a,{item:!0,xs:12},a.a.createElement(u.a,{m:2},a.a.createElement(T,{key:t,faces:t,onChange:O,neighbors:Object(p.cloneDeep)(Object(p.get)(h,"neighbors",[])),onHover:function(e){return f(e)},nextMove:b}))),a.a.createElement(i.a,{item:!0,xs:12},a.a.createElement(u.a,{m:2},a.a.createElement(Q,{faces:t,setFaces:O,setNextMove:g})))),a.a.createElement(i.a,{item:!0,xs:7,className:"graph",ref:c},a.a.createElement(q,{cube:t,width:U.width,height:U.height,path:Object(p.get)(h,"path",[]),onClick:function(e){return O(e.id)},hovered:s,neighbors:Object(p.get)(h,"neighbors",[])})))}var ae=function(){return a.a.createElement(U.a,{client:ee},a.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e){e.exports=JSON.parse('["FFLBUBFDBDLUURUBDBDRRUFFDLDFDLRDBURULRLDLLFURBLUBBFRFR","DFLRUDFRULBFLRFBDRUDBBFFBUULLRRDLFRDLFRLLUDBDUDFUBBBUR","UFRDUBRDDBLFFRBBRBFFLDFUBRRRBDBDFDLLFLURLRFDUDLLUBUUUL","LDURUUFRRUFBBRLLDDRDBUFRDRDBFFLDBFLBUUDBLLRBLLFFDBURFU","RUBBULRLLDBUBRDDLLFUBFFUDLFFFLRDDLUFBRUDLDUFRRFDRBBURB","RRLDUFLRDLDFURLRBRDDFUFBBFUULFRDDDUBDLBFLLBBLUFFBBUURR","UFBBUDDRURFRURFRBDBBFBFFUDBFRULDLFLFLDLULUDULDRBLBRLDR","DURBUDLLLFRBBRDUBRDFDLFLBBFURRRDULUFRDBULDFFLULBFBFDRU","URFUUDFUBDLDDRRFRBDFRDFBRBUFLLLDDLRLBLLULFBFURBRFBBUUD","ULRUUBUULUUUFRRLLLLLFFFUDRBFBDDDFBDDBRBBLDRBRFDRFBLFRD","UDDUUUUFLFLBRRDDFRBRDFFUFBRLRFDDLLLULBRULDBLURRBBBFFBD","FRRBUUDUBRLDFRUDDRLBUFFUBRRLBFDDRUDULLFDLLBFDBFURBLFBL","LRDRUFFFBDUFBRRLBFLLRBFLDDUFFBBDUULRDUUDLDRRRLFBDBLUUB","BUUBUULRLDLLDRBRLFBBBDFFDBBFUURDFFRRDDURLLLFRFFRLBUUDD","DFDUUBFRLFURLRLUFRUDDBFDBBLRRFLDDUUDBLRRLDBBUFULFBFBRL","RUDFULRRBDDFBRDFUFDURUFRUDRLRUFDFLBUUDFFLBBRBLLBBBLLLD","UDDLUULFRDBBBRRUBUFUFDFLBRLLUFBDDBRBRFDLLFURDRLFFBULDR","LLRUULLRDBDDDRLRRFFBLFFBFRBRFUDDDUBRBRDLLULFDBUUFBBUUF","DFLFURDRULDBBRUDUFFFBRFUUFBRURBDRRLULDRDLBBLFDLFLBBLDU","RLFFUULUFLRDFRDUUDBLUDFLDFRBUBLDBRFFFDURLRDBLRDUBBBLRB","FLBLUULURFFDFRDDRBBBULFDFUBRRRDDFFRUDBULLFUBDLULRBDRBL","LBRFULFUUFBDLRRLUFRLLRFDBUURBBFDRDFRDDDBLDFUUBDBFBRULL","DDRUUBBFFRUBFRBLFRULDBFRDBDBRFRDDFLURFLULDUULURBLBLFDL","BFRFUBFRBULUFRRDLRLBLDFUDDFBBLRDFDUBDDUBLLRDLFRRUBUULF","FRRFUUBBFDBFFRDLRULDLUFDBUUDLBLDURDFLRDBLFBFRDBURBLRLU","BFRRUFUBRUDFURBFUFLRBLFLURLFDDFDBBBRLFBRLDRULDLDLBUUDD","DUUDUBUDRBUFBRRFBRFRDRFDLFLBLDBDLRUBBLLFLUFRURLLFBDUFD","BRBRUDLBFLFLBRBFLRDUUFFRFLDDFRFDUULUDDBLLURRLUURDBDFBB","FBRLULUURDFBURFLDDFLFDFFURDLBFRDRBRBUBLULLDFBUDRDBBRUL","LDFFULDDRBFDFRRRLDLFDBFRBLURBFDDUUBLBUFBLDLRURLUUBRBUF","RLLUUUDUDLBUDRBFFUBLFBFLRFUBRLRDDDFFURLBLLRDDBFBRBDRUF","BRRRUDLBFLRDBRDRBFDUUDFLFFFULDLDRULLRFBULFBURBUUBBFDDL","UDLRUUFBDFRBFRDRBBDLRDFUUFBLDUUDRULRFFLLLBFBBDRLLBUDFR","URLRUDRRFLRDFRLDLBUFUDFUBLLDUBUDFDBLRBBFLLRBRFUFBBDUDF","FBDUUFLRFLLLRRUBLRBDUDFBFLURURDDBRFDDFUULFULDBDLRBBBRF","RLLBULFRDRBDRRDDLBLFBDFURFLFUBRDUBBLDUUBLLUDUFFFFBDURR","UBLFUBDLRURBFRRULUFUBUFUDDBRFLDDBLLLRLRRLRDBBDUFFBDFDF","BLRRURRBRUUFLRBUFFFRBDFUUDBFBLRDUDLLLFUFLLBDLDBDUBDDFR","LRLBUFRBFRDDLRURDBBRDUFBLDUBBFRDRDLUUUDLLFLUUFFFLBFRDB","URBFUBDDDRLUFRDLRLFLBFFDLBBFUDLDBBRFRLRFLULUDRUFBBRUDU","RRDLUBUDRDDLRRFBRBFFFUFBURLBDULDFLBRFULLLBDDRBUUUBFDLF","LDBFULDDDLUUURFUURFRFBFRDLLRFFRDBLLUDDRLLRUFBRBBUBBFDB","FLFRUUBLBDFRRRBLFLUURBFDDFFFDURDLRBBDULRLDBFRUDLLBBDUU","UULFULRUDLDFURRRLFFBFDFLLFDDLBRDBBDDLUUDLFUBBURBFBBRRR","FDRLUUUDFRRBBRLDLBRFDRFUUFLFUBDDBLFRDFFBLBULLURLUBDDRB","DFRUUUDFBUBBBRLDDLRRLDFRUDFRBLFDFRDFBRBLLRFLFUULUBBULD","DRUFUFBBBDDBRRRRFDRDRUFUDRUBFFLDUFDFFLUBLLUBLLBRDBULLL","LUDFUFRBRUDBRRLLBFDLBRFDFRDUBFUDDLUUDUFDLFULRRRBFBLLBB","LDFRUBUULFLRURRULBFFDFFRDDRFBBRDDLURDFLBLLUBRUFBDBUDLB","BUFUUURFRFLLDRBBFUDLUBFLLDRDFDRDRLULRBFRLDUDBDRULBBFFB"]')}},[[103,1,2]]]);
//# sourceMappingURL=main.94121cf4.chunk.js.map