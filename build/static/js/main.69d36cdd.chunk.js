(this["webpackJsonpgraphql-typescript-react"]=this["webpackJsonpgraphql-typescript-react"]||[]).push([[0],{103:function(e,t,n){e.exports=n(129)},108:function(e,t,n){},110:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),R=n(25),D=n.n(R),F=(n(108),n(21)),B=n(11),L=n(58),U=n(19),c=n(162),o=n(132),i=n(161),u=n(168),l=n(167),s=n(94),f=n(166),m=n(165),d=(n(61),n(24)),b=n(41),g=n(50),v=n(47),p=(n(110),n(10)),h=n(160),O=n(170),j=n(159),E=n(54),k="UUUUUUUUURRRRRRRRRFFFFFFFFFDDDDDDDDDLLLLLLLLLBBBBBBBBB",y=Object(p.uniq)(k);function x(){var e=Object(B.a)(['\ndisplay: grid;\ngrid-gap: 1px;\ngrid-template-columns: repeat(3, 1fr);\nborder: 1px solid black;\nbackground-color: black;\n> div::before {\n    content: "";\n    padding-bottom: 100%;\n    display: block;\n  }\n']);return x=function(){return e},e}var w=Object(E.a)((function(e){var t=e.colors,n=e.className,a=function(e){return{U:e.palette.background.paper,D:e.palette.secondary.dark,F:e.palette.success.dark,B:e.palette.info.dark,L:e.palette.warning.dark,R:e.palette.error.dark}}(Object(j.a)());return r.a.createElement("div",{className:n},t.map((function(e,t){return r.a.createElement("div",{key:t,style:{backgroundColor:a[e]}})})))}))(x()),S=Object(h.a)((function(e){return Object(O.a)({root:{margin:0}})}));function N(e){for(var t=e.moves,n=e.addMove,a=e.onHover,R=e.nextMove,D=(S(),Object(j.a)()),F=[],B=0;B<t.length;B+=3)F.push(t.slice(B,B+3));var L=(t.length>0?t[0]:{}).source;return Object(p.isEmpty)(L)?r.a.createElement("span",null):(console.log("nextmove",R),r.a.createElement(u.a,null,r.a.createElement(i.a,{container:!0,xs:12},F.map((function(e,t){var F=e[0],B=F.move,U=(F.target,B[0]),u=9*y.indexOf(U),l=L.substring(u,u+9).split("");return r.a.createElement(i.a,{key:U,container:!0,xs:12,md:6,justify:"space-between",alignItems:"center",direction:"row",style:{marginBottom:5}},r.a.createElement(i.a,{item:!0,xs:2},r.a.createElement(w,{colors:l})),r.a.createElement(i.a,{item:!0,xs:10,spacing:2},r.a.createElement(c.a,{key:t,variant:"text","aria-label":"text primary button group",fullWidth:!0},e.map((function(e){e.source;var t=e.target,F=e.move;return r.a.createElement(o.a,{key:F,onClick:function(){return n(F,t)},onMouseEnter:function(){return a(t)},style:{backgroundColor:R&&R.move==F?D.palette.success.main:"transparent"}},F)})))))})))))}function C(){var e=Object(B.a)(["\n--cube-color-u: ",";\n--cube-color-d: ",";\n--cube-color-f: ",";\n--cube-color-b: ",";\n--cube-color-l: ",";\n--cube-color-r: ",";\nmin-height: 100%;\nmargin: auto;\n"]);return C=function(){return e},e}var T=Object(E.a)((function(e){var t=e.className,n=e.faces,R=e.onChange,D=e.neighbors,F=e.onHover,B=e.nextMove,L=r.a.useRef();return Object(a.useEffect)((function(){void 0!==L&&void 0!==L.current&&L.current.addEventListener("move-finished",(function(){console.log("move-finished")}))}),[]),Object(a.useEffect)((function(){if(void 0!==L&&void 0!==L.current&&void 0!==n&&!Object(p.isEmpty)(n)){var e=L.current;e.moving||(e.faces=n)}}),[n]),r.a.createElement("div",{className:t},r.a.createElement("scary-cube",{ref:L}),r.a.createElement(N,{key:n,addMove:function(e,t){void 0!==L&&void 0!==L.current&&(L.current.addMove(e),Object(p.delay)((function(){return R(t)}),100))},moves:D,onHover:F,nextMove:B}))}))(C(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.secondary.dark}),(function(e){return e.theme.palette.success.dark}),(function(e){return e.theme.palette.info.dark}),(function(e){return e.theme.palette.warning.dark}),(function(e){return e.theme.palette.error.dark}));function H(e){var t=Object(j.a)();return r.a.createElement(T,Object.assign({theme:t},e))}var M=n(23),I=n(65),$=n(93);function q(e){var t=e.cube,n=e.path,R=e.neighbors,D=e.width,B=e.height,L=e.onClick,U=e.hovered,c=Object(a.useRef)(),o=Object(j.a)(),i=Object(a.useState)({links:[],nodes:[]}),u=Object(F.a)(i,2),l=u[0],s=u[1],f=Object(a.useState)(t),m=Object(F.a)(f,2),d=m[0],b=m[1],g=Object(a.useState)(new Set),v=Object(F.a)(g,2),h=v[0],O=v[1],E=new Set;Object(a.useEffect)((function(){console.log("useEffect!"),s((function(e){var a=e.links,r=e.nodes;r.forEach((function(e){var t=e.id;E.add(t)}));var D=[t];R.forEach((function(e){var t=e.source,n=e.target;D.push(t,n)})),n.forEach((function(e){var t=e.source,n=e.target;D.push(t,n)})),D=Object(p.uniq)(D).filter((function(e){return!E.has(e)}));var F=[].concat(Object(M.a)(Object(p.cloneDeep)(n)),Object(M.a)(Object(p.cloneDeep)(R))).filter((function(e){var t=e.source,n=e.target;return!(E.has(t)&&E.has(n))}));return{nodes:[].concat(Object(M.a)(r),Object(M.a)(D.map((function(e){return e&&e.id?e:{id:e}})))),links:[].concat(Object(M.a)(a),Object(M.a)(F))}}))}),[R,n]),Object(a.useEffect)((function(){s((function(e){var n=e.links,a=e.nodes;return function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t){var a=e[n],r=(a.index,a.x),R=a.y;r&&R&&c&&c.current&&c.current.centerAt(r,R,500)}}(a,t),{links:n,nodes:a}})),b(t),O((function(e){return e.add(t)}))}),[t]);var y=new Set(R.map((function(e){return e.target}))),x=new Set([t].concat(Object(M.a)(n.map((function(e){return e.target}))))),w={CURRENT:o.palette.primary.dark,NEIGHBOR:o.palette.secondary.light,PATH:o.palette.info.main,OTHER:"#999",VISITED:o.palette.primary.light,SOLUTION:o.palette.success.main,HOVERED:o.palette.warning.light};function S(e){var t=e.id;return t===d||t===U||y.has(t)||x.has(t)||t==k||h.has(t)}return console.log("Graph render...",h),r.a.createElement($.a,{ref:c,width:D,height:B,nodeRelSize:4,graphData:l,nodeLabel:"id",linkColor:function(){return"#aaa"},linkOpacity:function(){return.05},linkDirectionalParticleColor:function(){return"#666"},linkDirectionalParticles:2,linkDirectionalParticleSpeed:.005,cooldownTicks:2e3,cooldownTime:1500,nodeColor:function(e){var t=e.id;return t===k?w.SOLUTION:t===d?w.CURRENT:t===U?w.HOVERED:h.has(t)?w.VISITED:x.has(t)?w.PATH:y.has(t)?w.NEIGHBOR:w.OTHER},nodeVal:function(e){var n=e.id;return U===n?5+Object(p.now)()%2e3/2e3*4:k===n?20:n===t?15:h.has(n)?10:x.has(n)?5:(y.has(n),1)},onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y},onEngineStop:function(){c.current.zoomToFit(100,20,S)},onNodeClick:function(e,t){s((function(t){var n=t.nodes,a=t.links;return e[e.index]=Object(I.a)({},e,{fx:e.x,fy:e.y}),{nodes:n,links:a}})),O((function(t){return t.add(e.id)})),setTimeout((function(){L(e)}),200)}})}var P=n(163),V=n(173),W=n(164),z=n(171),A=n(172);function G(){var e=Object(B.a)(["\n  query getSolution($source: String, $target: String) {\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return G=function(){return e},e}var J=Object(v.a)(G()),K=Object(h.a)({root:{minWidth:"100%",maxHeight:"30vh",overflow:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12},primary:{fontSize:10}});function Q(e){var t=e.source,n=e.steps,R=e.setFaces,D=e.setNextMove,B=Object(a.useState)([]),L=Object(F.a)(B,2),U=L[0],c=L[1],o=K();return Object(a.useEffect)((function(){var e,a=U.findIndex((function(e){return e.target==t}));a<0?(e=n,console.log("in the path!")):e=U.slice(a+1),c(e)}),[t,n]),Object(a.useEffect)((function(){var e=U.length>0&&U[0];D(e||null)}),[U]),r.a.createElement(i.a,{container:!0},U.map((function(e,t){var n=e.target,D=e.move;return r.a.createElement(a.Fragment,{key:n},t>0&&r.a.createElement(P.a,null),r.a.createElement(z.a,{button:!0,key:n,onClick:function(){R(n)}},r.a.createElement(A.a,{className:o.primary,primary:"".concat(t+1,": ").concat(D),secondary:n})))})))}var X=function(e){var t=e.faces,n=e.setFaces,a=e.setNextMove,R=K(),D=Object(L.a)(J,{variables:{source:t,target:k}}),F=(D.loading,D.error,D.data);return r.a.createElement(V.a,{className:R.root},r.a.createElement(W.a,null,r.a.createElement(Q,{steps:Object(p.get)(F,"path",[]),source:t,setFaces:n,setNextMove:a})))};var Y=n(64);function Z(){var e=Object(B.a)(["\nquery {\n    random{\n      id\n      visitors {\n        name,\n        \n      }\n    }  \n}"]);return Z=function(){return e},e}function _(){var e=Object(B.a)(["\n  query getSolution($source: String, $target: String) {\n      neighbors(source: $source) {\n          move, source, target\n      }\n    path(source: $source, target: $target) {\n      move\n      source\n      target\n    }\n  }\n"]);return _=function(){return e},e}var ee=new d.a({cache:new b.a,link:new g.a({uri:"/graphql"})}),te=Object(v.a)(_());Object(v.a)(Z());function ne(){var e=Object(a.useState)({previous:null,current:Object(p.sample)(Y)}),t=Object(F.a)(e,2),n=t[0],R=t[1],D=Object(a.useState)(0),B=Object(F.a)(D,2),L=B[0],U=B[1],i=function(e){n.current!==e&&R((function(t){return{previous:t.current,current:e}}))},u=Object(m.a)("(prefers-color-scheme: dark)"),d=r.a.useMemo((function(){return Object(s.a)({palette:{background:{default:"rgb(242, 245, 182)"},type:u?"light":"dark"}})}),[u]);return console.log(d),r.a.createElement(f.a,{theme:d},r.a.createElement(l.a,null),r.a.createElement("div",{className:"cubegraph-buttons"},r.a.createElement(c.a,{color:"primary","aria-label":"outlined primary button group",orientation:"vertical"},r.a.createElement(o.a,{onClick:function(){i(Object(p.sample)(Y))}},"Random"),r.a.createElement(o.a,{onClick:function(){return U((function(e){return e+1}))}},"Reset"))),r.a.createElement(ae,{faces:n.current,previous:n.previous||k,setFaces:i,graphKey:L}))}function ae(e){var t=e.faces,n=e.setFaces,R=e.previous,D=e.graphKey,B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(a.useState)(e),n=Object(F.a)(t,2),r=n[0],R=n[1],D=Object(a.useCallback)((function(e){null!==e&&R(e.getBoundingClientRect())}),[]);return[r,D]}({width:500,height:100}),U=Object(F.a)(B,2),c=U[0],o=U[1],l=Object(a.useState)(null),s=Object(F.a)(l,2),f=s[0],m=s[1],d=Object(a.useState)(null),b=Object(F.a)(d,2),g=b[0],v=b[1],h=Object(L.a)(te,{variables:{source:t,target:R}}),O=(h.loading,h.error,h.data);function j(e){n(e)}console.log(c.width,"x",c.height);var E="".concat(c.width,"x").concat(c.height,"x").concat(t);return r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,xs:5,className:"grid"},r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(u.a,{m:2},r.a.createElement(H,{key:E,faces:t,onChange:j,neighbors:Object(p.cloneDeep)(Object(p.get)(O,"neighbors",[])),onHover:function(e){return m(e)},nextMove:g}))),r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(u.a,{m:2},r.a.createElement(X,{faces:t,setFaces:j,setNextMove:v})))),r.a.createElement(i.a,{item:!0,xs:7,className:"graph",ref:o},r.a.createElement(q,{key:D,cube:t,width:c.width,height:c.height,path:Object(p.get)(O,"path",[]),onClick:function(e){return j(e.id)},hovered:f,neighbors:Object(p.get)(O,"neighbors",[])})))}var re=function(){return r.a.createElement(U.a,{client:ee},r.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));D.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e){e.exports=JSON.parse('["FFLBUBFDBDLUURUBDBDRRUFFDLDFDLRDBURULRLDLLFURBLUBBFRFR","DFLRUDFRULBFLRFBDRUDBBFFBUULLRRDLFRDLFRLLUDBDUDFUBBBUR","UFRDUBRDDBLFFRBBRBFFLDFUBRRRBDBDFDLLFLURLRFDUDLLUBUUUL","LDURUUFRRUFBBRLLDDRDBUFRDRDBFFLDBFLBUUDBLLRBLLFFDBURFU","RUBBULRLLDBUBRDDLLFUBFFUDLFFFLRDDLUFBRUDLDUFRRFDRBBURB","RRLDUFLRDLDFURLRBRDDFUFBBFUULFRDDDUBDLBFLLBBLUFFBBUURR","UFBBUDDRURFRURFRBDBBFBFFUDBFRULDLFLFLDLULUDULDRBLBRLDR","DURBUDLLLFRBBRDUBRDFDLFLBBFURRRDULUFRDBULDFFLULBFBFDRU","URFUUDFUBDLDDRRFRBDFRDFBRBUFLLLDDLRLBLLULFBFURBRFBBUUD","ULRUUBUULUUUFRRLLLLLFFFUDRBFBDDDFBDDBRBBLDRBRFDRFBLFRD","UDDUUUUFLFLBRRDDFRBRDFFUFBRLRFDDLLLULBRULDBLURRBBBFFBD","FRRBUUDUBRLDFRUDDRLBUFFUBRRLBFDDRUDULLFDLLBFDBFURBLFBL","LRDRUFFFBDUFBRRLBFLLRBFLDDUFFBBDUULRDUUDLDRRRLFBDBLUUB","BUUBUULRLDLLDRBRLFBBBDFFDBBFUURDFFRRDDURLLLFRFFRLBUUDD","DFDUUBFRLFURLRLUFRUDDBFDBBLRRFLDDUUDBLRRLDBBUFULFBFBRL","RUDFULRRBDDFBRDFUFDURUFRUDRLRUFDFLBUUDFFLBBRBLLBBBLLLD","UDDLUULFRDBBBRRUBUFUFDFLBRLLUFBDDBRBRFDLLFURDRLFFBULDR","LLRUULLRDBDDDRLRRFFBLFFBFRBRFUDDDUBRBRDLLULFDBUUFBBUUF","DFLFURDRULDBBRUDUFFFBRFUUFBRURBDRRLULDRDLBBLFDLFLBBLDU","RLFFUULUFLRDFRDUUDBLUDFLDFRBUBLDBRFFFDURLRDBLRDUBBBLRB","FLBLUULURFFDFRDDRBBBULFDFUBRRRDDFFRUDBULLFUBDLULRBDRBL","LBRFULFUUFBDLRRLUFRLLRFDBUURBBFDRDFRDDDBLDFUUBDBFBRULL","DDRUUBBFFRUBFRBLFRULDBFRDBDBRFRDDFLURFLULDUULURBLBLFDL","BFRFUBFRBULUFRRDLRLBLDFUDDFBBLRDFDUBDDUBLLRDLFRRUBUULF","FRRFUUBBFDBFFRDLRULDLUFDBUUDLBLDURDFLRDBLFBFRDBURBLRLU","BFRRUFUBRUDFURBFUFLRBLFLURLFDDFDBBBRLFBRLDRULDLDLBUUDD","DUUDUBUDRBUFBRRFBRFRDRFDLFLBLDBDLRUBBLLFLUFRURLLFBDUFD","BRBRUDLBFLFLBRBFLRDUUFFRFLDDFRFDUULUDDBLLURRLUURDBDFBB","FBRLULUURDFBURFLDDFLFDFFURDLBFRDRBRBUBLULLDFBUDRDBBRUL","LDFFULDDRBFDFRRRLDLFDBFRBLURBFDDUUBLBUFBLDLRURLUUBRBUF","RLLUUUDUDLBUDRBFFUBLFBFLRFUBRLRDDDFFURLBLLRDDBFBRBDRUF","BRRRUDLBFLRDBRDRBFDUUDFLFFFULDLDRULLRFBULFBURBUUBBFDDL","UDLRUUFBDFRBFRDRBBDLRDFUUFBLDUUDRULRFFLLLBFBBDRLLBUDFR","URLRUDRRFLRDFRLDLBUFUDFUBLLDUBUDFDBLRBBFLLRBRFUFBBDUDF","FBDUUFLRFLLLRRUBLRBDUDFBFLURURDDBRFDDFUULFULDBDLRBBBRF","RLLBULFRDRBDRRDDLBLFBDFURFLFUBRDUBBLDUUBLLUDUFFFFBDURR","UBLFUBDLRURBFRRULUFUBUFUDDBRFLDDBLLLRLRRLRDBBDUFFBDFDF","BLRRURRBRUUFLRBUFFFRBDFUUDBFBLRDUDLLLFUFLLBDLDBDUBDDFR","LRLBUFRBFRDDLRURDBBRDUFBLDUBBFRDRDLUUUDLLFLUUFFFLBFRDB","URBFUBDDDRLUFRDLRLFLBFFDLBBFUDLDBBRFRLRFLULUDRUFBBRUDU","RRDLUBUDRDDLRRFBRBFFFUFBURLBDULDFLBRFULLLBDDRBUUUBFDLF","LDBFULDDDLUUURFUURFRFBFRDLLRFFRDBLLUDDRLLRUFBRBBUBBFDB","FLFRUUBLBDFRRRBLFLUURBFDDFFFDURDLRBBDULRLDBFRUDLLBBDUU","UULFULRUDLDFURRRLFFBFDFLLFDDLBRDBBDDLUUDLFUBBURBFBBRRR","FDRLUUUDFRRBBRLDLBRFDRFUUFLFUBDDBLFRDFFBLBULLURLUBDDRB","DFRUUUDFBUBBBRLDDLRRLDFRUDFRBLFDFRDFBRBLLRFLFUULUBBULD","DRUFUFBBBDDBRRRRFDRDRUFUDRUBFFLDUFDFFLUBLLUBLLBRDBULLL","LUDFUFRBRUDBRRLLBFDLBRFDFRDUBFUDDLUUDUFDLFULRRRBFBLLBB","LDFRUBUULFLRURRULBFFDFFRDDRFBBRDDLURDFLBLLUBRUFBDBUDLB","BUFUUURFRFLLDRBBFUDLUBFLLDRDFDRDRLULRBFRLDUDBDRULBBFFB"]')}},[[103,1,2]]]);
//# sourceMappingURL=main.69d36cdd.chunk.js.map